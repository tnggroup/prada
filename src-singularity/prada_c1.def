#Based on the example from here:
#https://github.com/apptainer/singularity/blob/master/examples/arch/Singularity

Bootstrap: arch
From: archlinux:latest

%runscript
    echo "This is what happens when you run the container..."

%post -xe

    echo "Hello from inside the container"

    # Set time zone.
    #ln -s /usr/share/zoneinfo/UTC /etc/localtime

    # Set locale.
    #echo 'en_US.UTF-8 UTF-8' > /etc/locale.gen
    
    #locale-gen
    #echo 'LANG=en_US.UTF-8' > /etc/locale.conf

    # Set the package mirror server(s). This is only for the output image's mirrorlist. `pacstrap' can only use your hosts's package mirrors.
    #echo 'Server = https://mirrors.kernel.org/archlinux/$repo/os/$arch' > /etc/pacman.d/mirrorlist

    # Install packages
    #pacman --noconfirm -Syu
    
    #pacman -Sy --noconfirm vim bash-completion

    # Remove the packages downloaded to image's Pacman cache dir.
    #pacman -Sy --noconfirm pacman-contrib
    #paccache -r -k0